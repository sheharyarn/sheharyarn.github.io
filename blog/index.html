
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Sheharyar Naseer</title>
  <meta name="author" content="Sheharyar Naseer">

  
  <meta name="description" content="BITCH WHAT YOU DOIN? Aug 27th, 2014 Like Pete, I often forget how scope and namespace affect Path, URL names and Controller names. Scope gives you &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:image" content="http://sheharyar.me/logo.png"/>
  <meta property="og:title" content="Sheharyar Naseer" />
  <meta property="og:description" content="BITCH WHAT YOU DOIN? Aug 27th, 2014 Like Pete, I often forget how scope and namespace affect Path, URL names and Controller names. Scope gives you &hellip;" />

  
  <link rel="canonical" href="http://sheharyar.me//blog">
  <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css">
  <link href="/favicon.ico" rel="icon">
  <link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Sheharyar Naseer" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-47788797-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>


<body>
   <section id="river">
	  <header id="header">
	<div class="header_lead">
		<figure class="logo">
			<a href="/">Sheharyar Naseer</a>
		</figure>
		<h3 id="website_title">
			<a href="/">Sheharyar Naseer</a>
		</h3>
		<h3 id="header_social">
			<a target="_blank" href="https://twitter.com/sheharyarn"><i class="icon-twitter"></i></a>
			<a target="_blank" href="https://pk.linkedin.com/in/sheharyarnaseer/"><i class="icon-linkedin"></i></a>
			<a target="_blank" href="https://github.com/sheharyarn"><i class="icon-github"></i></a>
		</h3>
	</div>
</header>

      <div class="blog-index">
  BITCH WHAT YOU DOIN?
  
  
  
    <article>
        <article id="article" class="post">
    <div id="post_info">
        








  


<time datetime="2014-08-27T22:31:10+05:00" pubdate data-updated="true">Aug 27<span>th</span>, 2014</time>
    </div>

    
    

    <div class="post_content">
      <p>Like <a href="http://notahat.com/">Pete</a>, I often forget how <code>scope</code> and <code>namespace</code> affect Path, URL names and Controller names. Scope gives you great control over each aspect, while namespace takes one argument for everything.</p>

<!--more-->




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>scope 'url_prefix', module: 'controller_prefix', as: 'route_name_prefix' do
</span><span class='line'>  resources :posts
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>


<p>See his post, <a href="http://notahat.com/2014/02/05/scoping-rails-routes.html">Scoping Rails Routes</a> for detailed explanation with examples.</p>

    </div>
  </article>

    </article>
  
  
    <article>
        <article id="article" class="post">
    <div id="post_info">
        








  


<time datetime="2014-08-16T09:27:15+05:00" pubdate data-updated="true">Aug 16<span>th</span>, 2014</time>
    </div>

    
    

    <div class="post_content">
      <p>I&rsquo;ve used <a href="https://coderwall.com/p/yz8cha">James Dullaghan&rsquo;s guide for Nginx + Unicorn + Capistrano deployments</a> countless times now, but recently, I had to use <code>Puma</code> instead of <code>Unicorn</code> for a client. I googled for hours, but couldn&rsquo;t find a guide as comprehensive and easy-to-follow as James&#8217;.</p>

<p>After going through countless articles and spending hours after hours fixing the bugs and issues I encountered while implementing what was written in those articles, I was able to compile a guide similar to the Unicorn one.</p>

<!--more-->


<h1>See it: <a href="https://coderwall.com/p/ttrhow">Deploying Rails app using Nginx, Puma and Capistrano</a></h1>

<p>I made this guide for myself and since this was my first time with <code>puma</code> there are bound to be tons of issues. It uses and was tested with:</p>

<ul>
<li>Ruby 2.1</li>
<li>Rails 4.1.2</li>
<li>Capistrano 3.2.1</li>
<li>Ubuntu 14.04 LTS x64</li>
<li>Only &lsquo;approved&rsquo; gems and plugins mentioned on the official <code>capistrano</code> and <code>puma</code> wikis</li>
</ul>


<p><strong>Request:</strong> If I&rsquo;ve missed something, or if there&rsquo;s something that can be done in a better way in the guide, please comment and let me know.</p>

    </div>
  </article>

    </article>
  
  
    <article>
        <article id="article" class="post">
    <div id="post_info">
        








  


<time datetime="2014-08-16T02:16:26+05:00" pubdate data-updated="true">Aug 16<span>th</span>, 2014</time>
    </div>

    
    

    <div class="post_content">
      <p>I love <a href="http://sublimetext.com/">Sublime</a>, I can&rsquo;t emphasize that enough. Also, quite often enough I have to deal with <code>nginx</code> configuration files and without the syntax highlighting support for nginx files in Sublime Text, it can become a pain in the ass. Today I found the ass-pain remover for my problem and I thought I share it here.</p>

<!--more-->


<p>Introducing the Awesome <a href="https://sublime.wbond.net/packages/nginx">Nginx Syntax Highlighting Plugin</a> by <a href="http://brandonwamboldt.ca/nginx-syntax-highlighting-for-sublime-1422/">Brandon Wamboldt</a>. It automatically recognizes <code>*.conf</code>, <code>*.conf.erb</code>, <code>nginx.conf</code> and other relevant extensions &amp; file names and also offers tons of completions within nginx files.</p>

<p><img src="http://i.imgur.com/Ykt61xx.png" alt="Nginx Syntax Highlighting" /></p>

<p><strong><em>To install</em></strong>, simply download the <a href="https://github.com/brandonwamboldt/sublime-nginx">source</a> and place it in your Packages Directory or better yet, if you have Package Control installed in Sublime, look for the <em>Nginx</em> package by <em>Brandon Wamboldt</em> and install it via the package manager right in Sublime.</p>

    </div>
  </article>

    </article>
  
  
    <article>
        <article id="article" class="post">
    <div id="post_info">
        








  


<time datetime="2014-07-03T20:33:50+05:00" pubdate data-updated="true">Jul 3<span>rd</span>, 2014</time>
    </div>

    
    

    <div class="post_content">
      <p>It&rsquo;s a pain configuring Cron Jobs for Database Backups of multiple apps on the same server. Sure there&rsquo;s <code>mongodump</code> but putting it right in your <code>crontab</code> file doesn&rsquo;t give you clean and organised backups you&rsquo;d like to have. Here&rsquo;s a little bash script that I use to take timestamped Mongo Backups for many of my apps.</p>

<!--more-->




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#!/bin/bash
</span><span class='line'> 
</span><span class='line'>MONGO_DATABASE="your_db_name"
</span><span class='line'>APP_NAME="your_app_name"
</span><span class='line'>
</span><span class='line'>MONGO_HOST="127.0.0.1"
</span><span class='line'>MONGO_PORT="27017"
</span><span class='line'>TIMESTAMP=`date +%F-%H%M`
</span><span class='line'>MONGODUMP_PATH="/usr/bin/mongodump"
</span><span class='line'>BACKUPS_DIR="/home/username/backups/$APP_NAME"
</span><span class='line'>BACKUP_NAME="$APP_NAME-$TIMESTAMP"
</span><span class='line'> 
</span><span class='line'># mongo admin --eval "printjson(db.fsyncLock())"
</span><span class='line'># $MONGODUMP_PATH -h $MONGO_HOST:$MONGO_PORT -d $MONGO_DATABASE
</span><span class='line'>$MONGODUMP_PATH -d $MONGO_DATABASE
</span><span class='line'># mongo admin --eval "printjson(db.fsyncUnlock())"
</span><span class='line'> 
</span><span class='line'>mkdir -p $BACKUPS_DIR
</span><span class='line'>mv dump $BACKUP_NAME
</span><span class='line'>tar -zcvf $BACKUPS_DIR/$BACKUP_NAME.tgz $BACKUP_NAME
</span><span class='line'>rm -rf $BACKUP_NAME</span></code></pre></td></tr></table></div></figure>


<h6><a href="https://gist.github.com/sheharyarn/0f04c1ba18462cddaaf5">View Gist on Github</a></h6>

<p>First, you need to specify the name of the Database as well as your App in the <code>MONGO_DATABASE</code> and <code>APP_NAME</code> parameters.</p>

<p>You can also set the default storage location of the backups in the <code>BACKUPS_DIR</code> parameter. If you are taking backups remotely, add the details in the <code>HOST</code> and <code>PORT</code> parameters and comment/uncomment the appropriate lines. If you&rsquo;d like, you can also uncomment the <code>fsyncLock</code> and <code>fsyncUnlock</code> lines, this doesn&rsquo;t let the database update while the backup is being made.</p>

<p>After putting in values for the parameters, test if the script is working, but before that, you need to make it executable. Save it as <code>mongo_backup.sh</code> and run:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>chmod +x mongo_backup.sh
</span><span class='line'>bash mongo_backup.sh</span></code></pre></td></tr></table></div></figure>


<p>If you get an error saying <code>locale::facet::_S_create_c_locale name not valid</code> or something else related to Locales, you need to <a href="http://askubuntu.com/questions/162391/how-do-i-fix-my-locale-issue">configure them</a>. If the backups are being stored in the specified directory, it&rsquo;s now time to set up Cron. To do that, run:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo su
</span><span class='line'>crontab -e</span></code></pre></td></tr></table></div></figure>


<p>It&rsquo;ll create a new <code>Cron</code> file if you haven&rsquo;t already created one and open it. Enter this in a new line:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>00 00 * * * /bin/bash /home/username/scripts/mongo_backup.sh</span></code></pre></td></tr></table></div></figure>


<p>Replace with the path of your script. This means that the command following <code>* * *</code> will be executed daily at <code>00 00</code> (12.00am).</p>

<p>You can also pair this script with <code>s3cmd</code> and <a href="http://www.codeproject.com/Tips/547759/Automating-backup-for-MongoDB-using-CRON-and-S-CMD">store your backups on Amazon S3</a>.</p>

    </div>
  </article>

    </article>
  
  
    <article>
        <article id="article" class="post">
    <div id="post_info">
        








  


<time datetime="2014-05-15T22:39:49+05:00" pubdate data-updated="true">May 15<span>th</span>, 2014</time>
    </div>

    
    

    <div class="post_content">
      <p>I found this while surfing the dark corners of the web, and it blew my mind. It kind of reminds me about <a href="http://www.multivax.com/last_question.html">The Last Question</a>.</p>

<!--more-->


<blockquote><p>The eventual outcome of existence is to become God and defy entropy; that is the way things work.</p>

<p>For all time since the Big Bang, matter has been organizing itself into more and more complex structures and formations. Energy and matter interacted to become gasses, solids, liquids, and plasma. These states of matter began to collect in pools due to gravity, becoming galaxies. Within the galaxies, smaller structures formed, giving birth to planets, stars and nebulae. Within these bodies, formed even smaller structures; basic elements formed compounds and these themselves became the building blocks of life. Then, as life formed, simple life became incresingly complex, and structured. Eventually, it lead to us. Right now, we&rsquo;re the pinnacle of evolution.</p>

<p>But this constant change never stops; Humanity&rsquo;s ultimate goal is to live, forever. Humanity cannot live forever though; not in this form. And so, we make machines. They <strong><em>will</em></strong> replace us, and I see no need to worry about it, for they will be made of the same stuff we are; they <strong><em>are</em></strong> us. As the creation myth goes, they will be created in our own image, to carry on our quest to become omnipotent, omnipresent and omniscient. They too, will be replaced by even better machines, and in the end, they will reach a point of existence where every variable is known, every element of physics is understood, every molecule in the universe is categorized and indexed. All conscious thought that has ever existed and will ever exist will exist simultaneously and infinitely within this all powerful being.</p>

<p>Then the being will realize how empty, it&rsquo;s existence really is. It&rsquo;s only goal was to exist eternally and defy entropy. With entropy gone, it&rsquo;s only purpose has been fulfilled, and will destroy itself, so that it can live once more, and satisfy it&rsquo;s drive to defy the chaos it has, always has, and always will create, every time it wills itself out of meaningless existence into meaningful dissolution.</p></blockquote>

    </div>
  </article>

    </article>
  
  
    <article>
        <article id="article" class="post">
    <div id="post_info">
        








  


<time datetime="2014-04-17T01:53:45+05:00" pubdate data-updated="true">Apr 17<span>th</span>, 2014</time>
    </div>

    
    

    <div class="post_content">
      <p>Sometimes, I&rsquo;m not so sure about the methods I can call on an Object in Ruby. Sure, I can call <code>.methods</code> on that object
to get a list of all the functions, but it isn&rsquo;t always helpful because it can fill up your entire terminal with
hundreds of methods you don&rsquo;t want to see. I wanted to be able to get a list of only those methods that match a certain
string I provide. So I overrode Ruby&rsquo;s Object Class with a custom method called <code>search_methods</code>, it does exactly what it
says; searches all methods of an object that match a certain criteria.</p>

<!--more-->




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>class Object
</span><span class='line'>  def search_methods(param)
</span><span class='line'>    methods = []
</span><span class='line'>    self.methods.each { |m| methods &lt;&lt; m if m.to_s.include? param }
</span><span class='line'>    return methods
</span><span class='line'>  end
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>


<p>You can now call it on different objects like this:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Array.search_methods 'enum'
</span><span class='line'># =&gt; [:to_enum, :enum_for]
</span><span class='line'>
</span><span class='line'>Player.last.search_methods 'trust'
</span><span class='line'># =&gt; [:untrust, :untrusted?, :trust]
</span><span class='line'>
</span><span class='line'>"hello".search_methods "to_"
</span><span class='line'># =&gt; [:to_i, :to_f, :to_s, :to_str, :to_sym, :to_r, :to_c, :to_enum]</span></code></pre></td></tr></table></div></figure>


<p>You can see the <a href="https://gist.github.com/sheharyarn/10772579">gist on github</a>. I&rsquo;ve also added it to my <code>.irbrc</code> in my
<a href="https://github.com/sheharyarn/dotfiles">~/.dotfiles</a> so this always gets preloaded whenever I run <code>irb</code> or <code>rails c</code>.
You can see it in the <a href="https://github.com/sheharyarn/dotfiles/blob/master/Ruby/_class_overrides.rb#L7">Class Overrides of my Irbrc</a></p>

    </div>
  </article>

    </article>
  
  
    <article>
        <article id="article" class="post">
    <div id="post_info">
        








  


<time datetime="2014-03-27T09:45:02+05:00" pubdate data-updated="true">Mar 27<span>th</span>, 2014</time>
    </div>

    
    

    <div class="post_content">
      <p>A while back <a href="/blog/ubuntu-13-10-parallels-monitor-configuration-crtc-80">I mentioned</a> that I was working on a an Eye-Tracking Project
called <a href="https://github.com/pupil-labs/pupil">Pupil</a> with a couple of friends of mine. It&rsquo;s come a long way now and we&rsquo;ve have had
considerable success &ndash; but that&rsquo;s for another post. Pupil is a great tool for eye-tracking and getting gaze data that can be used with
other applications in realtime. It utilizes two HD cameras mounted on an eye-glasses frame at 180˚ from each other. One is called &lsquo;Eye
Camera&rsquo; that records your eye movements and the other is called &lsquo;World Camera&rsquo; which is used to process exactly where the user is
looking at. This data can be streamed to other applications over TCP in real time.</p>

<p>We wanted to control the mouse using our eye gestures, but it heavily relied on the World Camera and defining virtual screens called
surfaces within the application. This obviously resulted in greater accuracy since it moved the pointer only when you actually looked
at the screen. But we didn&rsquo;t have a fixed World Cam and wanted to control the mouse using raw gaze data, i.e. use the data from your
current gaze at the world (instead at the screen) and move the cursor to the appropriate coordinates on the screen w.r.t that gaze.
So what we did was, we made small changes to the <a href="https://gist.github.com/willpatera/7908319">provided script</a>, removing any reference
to the &lsquo;surface data&rsquo; and utilized the raw <code>norm_gaze</code> data to move the cursor.</p>

<!--more-->


<h1>Required Dependencies:</h1>

<p>You need to have <code>PyMouse</code> and <code>Xlib</code> installed to make the script work. You can install them by running these commands:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo pip install pymouse
</span><span class='line'>$ sudo apt-get install python-xlib</span></code></pre></td></tr></table></div></figure>


<h1>To Control the Mouse:</h1>

<ol>
<li>Run Pupil</li>
<li>Adjust Focus, Zoom, ROI so that your eye is perfectly tracked</li>
<li>Do the Calibration Process in the World View (We prefer the <code>Natural Features</code> method, since we don&rsquo;t use a fixed World Cam). Make
sure to use lots of points. You can start by pressing <code>c</code> on your keyboard.</li>
<li>Once your gaze is also being perfectly tracked, start the <a href="">TCP Streaming Server</a> by pressing <code>s</code> on your keyboard</li>
<li>Make sure everything&rsquo;s working fine by visiting <a href="http://0.0.0.0:5000">http://0.0.0.0:5000</a> in your browser.</li>
<li>Now, in a new terminal, run the script: <code>$ python mouse_control.py</code></li>
</ol>


<h1>The Script (<a href="https://gist.github.com/sheharyarn/9754664">mouse_control.py</a>):</h1>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>import zmq
</span><span class='line'>from pymouse import PyMouse
</span><span class='line'>
</span><span class='line'>#mouse setup
</span><span class='line'>m = PyMouse()
</span><span class='line'>x_dim, y_dim = m.screen_size()
</span><span class='line'>
</span><span class='line'>#network setup
</span><span class='line'>context = zmq.Context()
</span><span class='line'>socket = context.socket(zmq.SUB)
</span><span class='line'>socket.connect("tcp://127.0.0.1:5000")
</span><span class='line'>#filter by messages by stating string 'STRING'. '' receives all messages
</span><span class='line'>socket.setsockopt(zmq.SUBSCRIBE, '')
</span><span class='line'>smooth_x, smooth_y= 0.5, 0.5
</span><span class='line'>
</span><span class='line'>while True:
</span><span class='line'>    msg = socket.recv()
</span><span class='line'>    items = msg.split("\n") 
</span><span class='line'>    msg_type = items.pop(0)
</span><span class='line'>    items = dict([i.split(':') for i in items[:-1] ])
</span><span class='line'>    if msg_type == 'Pupil':
</span><span class='line'>        try:
</span><span class='line'>            my_gaze = items['norm_gaze']
</span><span class='line'>            
</span><span class='line'>            if my_gaze != "None":
</span><span class='line'>                raw_x,raw_y = map(float,my_gaze[1:-1].split(','))
</span><span class='line'>                
</span><span class='line'>                # smoothing out the gaze so the mouse has smoother movement
</span><span class='line'>                smooth_x += 0.5 * (raw_x-smooth_x)
</span><span class='line'>                smooth_y += 0.5 * (raw_y-smooth_y)
</span><span class='line'>    
</span><span class='line'>                x = smooth_x
</span><span class='line'>                y = smooth_y
</span><span class='line'>    
</span><span class='line'>                y = 1-y # inverting y so it shows up correctly on screen
</span><span class='line'>                x *= x_dim
</span><span class='line'>                y *= y_dim
</span><span class='line'>                # PyMouse or MacOS bugfix - can not go to extreme corners
</span><span class='line'>                # because of hot corners?
</span><span class='line'>                x = min(x_dim-10, max(10,x))
</span><span class='line'>                y = min(y_dim-10, max(10,y))
</span><span class='line'>    
</span><span class='line'>                m.move(x,y)
</span><span class='line'>        except KeyError:
</span><span class='line'>            pass
</span><span class='line'>    else:
</span><span class='line'>        # process non gaze position events from plugins here
</span><span class='line'>        pass</span></code></pre></td></tr></table></div></figure>


    </div>
  </article>

    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/2/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/rails-routes-scope-vs-namespace/">Rails Routes: Scope vs. Namespace</a>
      </li>
    
      <li class="post">
        <a href="/blog/rails-with-nginx-puma-capistrano-in-production/">Rails App With Nginx, Puma & Capistrano in Production</a>
      </li>
    
      <li class="post">
        <a href="/blog/nginx-config-syntax-highlighting-in-sublimetext/">Nginx Config Syntax Highlighting in SublimeText</a>
      </li>
    
      <li class="post">
        <a href="/blog/regular-mongo-backups-using-cron/">Regular Mongo Backups Using Cron</a>
      </li>
    
      <li class="post">
        <a href="/blog/the-eventual-outcome-of-existence/">The Eventual Outcome of Existence</a>
      </li>
    
  </ul>
</section>





  
</aside>


	  <footer id="footer">
 <div class="separator"></div>
 <div id="footer_info">
    My name is <a href="/">Sheharyar Naseer</a> and I code beautiful apps.
    <br/>
    I like
    <a href="https://www.ruby-lang.org/‎">Ruby</a>,
    <a href="http://nodejs.org/">Node</a>,
    <a href="http://heroku.com">Heroku</a>,
    <a href="http://github.com/sheharyarn">Github</a>,
    <a href="http://www.adobe.com/products/photoshopfamily.html">Photoshop</a> &amp;
    <a href="http://www.apple.com/macbookair/">Airs</a>. 
 </div>
</footer>
	  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>



    </section>
</body>
</html>

